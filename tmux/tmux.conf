set -g prefix C-x
unbind C-b # è§£ç»‘ctrl_b_
bind C-x send-prefix # ç»‘å®šctrl_x

# å¢åŠ å†å²è®°å½•
set -g history-limit 50000
# ä»tmux v1.6ç‰ˆå¼€å§‹ï¼Œæ”¯æŒè®¾ç½®ç¬¬äºŒä¸ªæŒ‡ä»¤å‰ç¼€
set-option -g prefix2 C-b # è®¾ç½®`é”®ä¸ºç¬¬äºŒä¸ªæŒ‡ä»¤å‰ç¼€

# é‡è½½é…ç½®å¿«æ·é”®
bind r source-file ~/.tmux.conf \; display-message "é‡è½½é…ç½®æˆåŠŸ!"

# åˆ†å±
unbind '"'
bind - splitw -v -c '#{pane_current_path}' # å‚ç›´æ–¹å‘æ–°å¢é¢æ¿ï¼ŒåŒæ—¶é»˜è®¤è¿›å…¥å½“å‰ç›®å½•
bind | splitw -h -c '#{pane_current_path}' # æ°´å¹³æ–¹å‘æ–°å¢é¢æ¿ï¼ŒåŒæ—¶é»˜è®¤è¿›å…¥å½“å‰ç›®å½•

# é¼ æ ‡æ”¯æŒ
# tmux v2.1 ä¹‹å‰ç‰ˆæœ¬
# setw -g mode-mouse on # æ”¯æŒé¼ æ ‡é€‰å–æ–‡æœ¬ç­‰
# setw -g mouse-resize-pane on # æ”¯æŒé¼ æ ‡æ‹–åŠ¨è°ƒæ•´é¢æ¿çš„å¤§å°(é€šè¿‡æ‹–åŠ¨é¢æ¿é—´çš„åˆ†å‰²çº¿)
# setw -g mouse-select-pane on # æ”¯æŒé¼ æ ‡é€‰ä¸­å¹¶åˆ‡æ¢é¢æ¿
# setw -g mouse-select-window on # æ”¯æŒé¼ æ ‡é€‰ä¸­å¹¶åˆ‡æ¢çª—å£(é€šè¿‡ç‚¹å‡»çŠ¶æ€æ çª—å£åç§°)

# tmux v2.1åŠä»¥ä¸Šç‰ˆæœ¬
set-option -g mouse on # ç­‰åŒäºä»¥ä¸Š4ä¸ªæŒ‡ä»¤çš„æ•ˆæœ

# å¿«é€Ÿé¢æ¿åˆ‡æ¢
# ç»‘å®šhjklé”®ä¸ºé¢æ¿åˆ‡æ¢çš„ä¸Šä¸‹å·¦å³é”®
bind -r k select-pane -U # ç»‘å®škä¸ºâ†‘
bind -r j select-pane -D # ç»‘å®šjä¸ºâ†“
bind -r h select-pane -L # ç»‘å®šhä¸ºâ†
bind -r l select-pane -R # ç»‘å®šlä¸ºâ†’

bind -r e lastp # é€‰æ‹©æœ€åä¸€ä¸ªé¢æ¿
bind -r ^e last # é€‰æ‹©æœ€åä¸€ä¸ªçª—å£

bind -r ^u swapp -U # ä¸å‰ä¸€ä¸ªé¢æ¿äº¤æ¢ä½ç½®
bind -r ^d swapp -D # ä¸åä¸€ä¸ªé¢æ¿äº¤æ¢ä½ç½®

# é¢æ¿å¤§å°è°ƒæ•´
# ç»‘å®šCtrl+hjklé”®ä¸ºé¢æ¿ä¸Šä¸‹å·¦å³è°ƒæ•´è¾¹ç¼˜çš„å¿«æ·æŒ‡ä»¤
bind -r ^k resizep -U 10 # ç»‘å®šCtrl+kä¸ºå¾€â†‘è°ƒæ•´é¢æ¿è¾¹ç¼˜10ä¸ªå•å…ƒæ ¼
bind -r ^j resizep -D 10 # ç»‘å®šCtrl+jä¸ºå¾€â†“è°ƒæ•´é¢æ¿è¾¹ç¼˜10ä¸ªå•å…ƒæ ¼
bind -r ^h resizep -L 10 # ç»‘å®šCtrl+hä¸ºå¾€â†è°ƒæ•´é¢æ¿è¾¹ç¼˜10ä¸ªå•å…ƒæ ¼
bind -r ^l resizep -R 10 # ç»‘å®šCtrl+lä¸ºå¾€â†’è°ƒæ•´é¢æ¿è¾¹ç¼˜10ä¸ªå•å…ƒæ ¼

# å…¶ä»–é…ç½®
# bind m command-prompt "splitw -h 'exec man %%'"   # ç»‘å®šmé”®ä¸ºåœ¨æ–°çš„panelæ‰“å¼€man
# ç»‘å®šPé”®ä¸ºå¼€å¯æ—¥å¿—åŠŸèƒ½ï¼Œå¦‚ä¸‹ï¼Œé¢æ¿çš„è¾“å‡ºæ—¥å¿—å°†å­˜å‚¨åˆ°æ¡Œé¢
# bind P pipe-pane -o "cat >>~/Desktop/#W.log" \; display "Toggled logging to ~/Desktop/#W.log"


# æ¢å¤ç”¨æˆ·ç©ºé—´
# if-shell 'test "$(uname -s)" = Darwin' 'set-option -g default-command "exec reattach-to-user-namespace -l $SHELL"'

# å¤åˆ¶æ¨¡å¼
setw -g mode-keys vi

bind Escape copy-mode # ç»‘å®šescé”®ä¸ºè¿›å…¥å¤åˆ¶æ¨¡å¼
# tmux v2.4ç‰ˆæœ¬ä»¥ä¸‹
# bind -t vi-copy v begin-selection # ç»‘å®švé”®ä¸ºå¼€å§‹é€‰æ‹©æ–‡æœ¬
# bind -t vi-copy y copy-selection # ç»‘å®šyé”®ä¸ºå¤åˆ¶é€‰ä¸­æ–‡æœ¬
# bind -T copy-mode-vi v send-keys -X begin-selection
# bind -T copy-mode-vi y send-keys -X copy-selection-and-cancel
# ç»‘å®šyé”®ä¸ºå¤åˆ¶é€‰ä¸­æ–‡æœ¬åˆ°Macç³»ç»Ÿç²˜è´´æ¿
bind-key -T copy-mode-vi 'y' send-keys -X copy-pipe-and-cancel 'reattach-to-user-namespace pbcopy'
# é¼ æ ‡æ‹–åŠ¨é€‰ä¸­æ–‡æœ¬ï¼Œå¹¶å¤åˆ¶åˆ°Macç³»ç»Ÿç²˜è´´æ¿
bind-key -T copy-mode-vi MouseDragEnd1Pane send -X copy-pipe-and-cancel "pbcopy"
unbind p
bind C-p previous-window 
bind p pasteb # ç»‘å®špé”®ä¸ºç²˜è´´æ–‡æœ¬ï¼ˆpé”®é»˜è®¤ç”¨äºè¿›å…¥ä¸Šä¸€ä¸ªçª—å£ï¼Œä¸å»ºè®®è¦†ç›–ï¼‰


set -g base-index 1 # è®¾ç½®çª—å£çš„èµ·å§‹ä¸‹æ ‡ä¸º1
set -g pane-base-index 1 # è®¾ç½®é¢æ¿çš„èµ·å§‹ä¸‹æ ‡ä¸º1

# è‡ªå®šä¹‰çŠ¶æ€æ 
# set -g status-utf8 on # çŠ¶æ€æ æ”¯æŒutf8
# set -g status-interval 1 # çŠ¶æ€æ åˆ·æ–°æ—¶é—´
# set -g status-justify left # çŠ¶æ€æ åˆ—è¡¨å·¦å¯¹é½
# setw -g monitor-activity on # éå½“å‰çª—å£æœ‰å†…å®¹æ›´æ–°æ—¶åœ¨çŠ¶æ€æ é€šçŸ¥

# set -g status-bg black # è®¾ç½®çŠ¶æ€æ èƒŒæ™¯é»‘è‰²
# set -g status-fg yellow # è®¾ç½®çŠ¶æ€æ å‰æ™¯é»„è‰²
# set -g status-style "bg=black, fg=yellow" # çŠ¶æ€æ å‰æ™¯èƒŒæ™¯è‰²

# set -g status-left "#[bg=#FF661D] ğŸŒ #S " # çŠ¶æ€æ å·¦ä¾§å†…å®¹
# set -g status-right 'Continuum status: #{continuum_status}' # çŠ¶æ€æ å³ä¾§å†…å®¹
# set -g status-left-length 300 # çŠ¶æ€æ å·¦è¾¹é•¿åº¦300
# set -g status-right-length 500 # çŠ¶æ€æ å·¦è¾¹é•¿åº¦500

# set -wg window-status-format " #I #W " # çŠ¶æ€æ çª—å£åç§°æ ¼å¼
# set -wg window-status-current-format " #I:#W#F " # çŠ¶æ€æ å½“å‰çª—å£åç§°æ ¼å¼(#Iï¼šåºå·ï¼Œ#wï¼šçª—å£åç§°ï¼Œ#Fï¼šé—´éš”ç¬¦)
# set -wg window-status-separator "" # çŠ¶æ€æ çª—å£åç§°ä¹‹é—´çš„é—´éš”
# set -wg window-status-current-style "bg=red" # çŠ¶æ€æ å½“å‰çª—å£åç§°çš„æ ·å¼
# set -wg window-status-last-style "fg=red" # çŠ¶æ€æ æœ€åä¸€ä¸ªçª—å£åç§°çš„æ ·å¼

# set -g message-style "bg=#202529, fg=#91A8BA" # æŒ‡å®šæ¶ˆæ¯é€šçŸ¥çš„å‰æ™¯ã€åæ™¯è‰²

# å¼€å¯256 colorsæ”¯æŒ
set -g default-terminal "screen-256color"

############################# æ’ä»¶ ##################################
# Tmux Resurrecté…ç½®
run-shell ~/.tmux/plugins/tmux-resurrect/resurrect.tmux

## æ¢å¤vim/neovim
set -g @resurrect-strategy-vim 'session' # for vim
# set -g @resurrect-strategy-nvim 'session' # for neovim

set -g @resurrect-capture-pane-contents 'on' # å¼€å¯æ¢å¤é¢æ¿å†…å®¹åŠŸèƒ½
set -g @resurrect-save-shell-history 'on' # æ¢å¤shellçš„å†å²è®°å½•

# Tmux Continuum
set -g @continuum-save-interval '15'
set -g status-right 'Continuum status: #{continuum_status}'
# éœ€è¦æ”¾åœ¨åé¢
run-shell ~/.tmux/plugins/tmux-continuum/continuum.tmux

# TPM é…ç½®
# é»˜è®¤éœ€è¦å¼•å…¥çš„æ’ä»¶
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'jimeh/tmux-themepack'
#set -g @plugin 'egel/tmux-gruvbox'
# set -g @plugin "arcticicestudio/nord-tmux"

# set -g @tmux-gruvbox 'dark' # or 'light'


source-file "${HOME}/.tmux/plugins/tmux-themepack/powerline/double/green.tmuxtheme"
set -g @themepack 'powerline/double/green'
# set -g @themepack 'basic'

# å¼•å…¥å…¶ä»–æ’ä»¶çš„ç¤ºä¾‹
# set -g @plugin 'github_username/plugin_name' # æ ¼å¼ï¼šgithubç”¨æˆ·å/æ’ä»¶å
# set -g @plugin 'git@github.com/user/plugin' # æ ¼å¼ï¼šgit@githubæ’ä»¶åœ°å€

# åˆå§‹åŒ–tmuxæ’ä»¶ç®¡ç†å™¨(ä¿è¯è¿™è¡Œåœ¨~/.tmux.confçš„éå¸¸é åçš„ä½ç½®)
run '~/.tmux/plugins/tpm/tpm'

